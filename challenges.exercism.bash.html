<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Exercism track: Bash</title><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script type="text/x-mathjax-config">
                MathJax = {
                    tex: {
                        inlineMath: [ [&#x27;$&#x27;,&#x27;$&#x27;], [&#x27;\(&#x27;,&#x27;\)&#x27;] ],
                        displayMath: [ [&#x27;$$&#x27;,&#x27;$$&#x27;], [&#x27;[&#x27;,&#x27;]&#x27;] ]
                    },
                    options = {
                        processHtmlClass = &quot;math&quot;
                    }
                }
                </script><meta name="next-head-count" content="6"/><link rel="preload" href="/wiki/_next/static/css/52fc2ba29703df73922c.css" as="style"/><link rel="stylesheet" href="/wiki/_next/static/css/52fc2ba29703df73922c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/wiki/_next/static/chunks/main-ae4733327bd95c4ac325.js" as="script"/><link rel="preload" href="/wiki/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/wiki/_next/static/chunks/framework.9d524150d48315f49e80.js" as="script"/><link rel="preload" href="/wiki/_next/static/chunks/commons.0e1c3f9aa780c2dfe9f0.js" as="script"/><link rel="preload" href="/wiki/_next/static/chunks/pages/_app-8e3d0c58a60ec788aa69.js" as="script"/><link rel="preload" href="/wiki/_next/static/chunks/940643274e605e7596ecea1f2ff8d83317a3fb76.4841a16762f602a59f00.js" as="script"/><link rel="preload" href="/wiki/_next/static/chunks/pages/%5B%5B...slug%5D%5D-1aa198f87ede1cd0e1dc.js" as="script"/></head><body><div id="__next"><main><h1>Exercism track: Bash</h1><section class="post-metadata"><span>Date: <!-- -->2021-05-11 15:06:43 +08:00</span><span>Date modified: <!-- -->2021-06-22 17:50:43 +08:00</span></section><nav class="toc"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#hello-world" class="toc-link toc-link-h1">Hello world</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#solution" class="toc-link toc-link-h2">Solution</a></li></ol></li><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#leap" class="toc-link toc-link-h1">Leap</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#solution-1" class="toc-link toc-link-h2">Solution</a></li></ol></li><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#reverse-string" class="toc-link toc-link-h1">Reverse string</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#solution-2" class="toc-link toc-link-h2">Solution</a></li></ol></li><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#two-fer" class="toc-link toc-link-h1">Two-fer</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#solution-3" class="toc-link toc-link-h2">Solution</a></li></ol></li><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#error-handling" class="toc-link toc-link-h1">Error handling</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#solution-4" class="toc-link toc-link-h2">Solution</a></li></ol></li><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#resistor-color-duo" class="toc-link toc-link-h1">Resistor color duo</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#solution-5" class="toc-link toc-link-h2">Solution</a></li></ol></li><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#resistor-color-trio" class="toc-link toc-link-h1">Resistor color trio</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#solution-6" class="toc-link toc-link-h2">Solution</a></li></ol></li><li class="toc-item toc-item-h1"><a href="/wiki/challenges.exercism.bash#raindrops" class="toc-link toc-link-h1">Raindrops</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#initial-working-solution" class="toc-link toc-link-h2">Initial working solution</a></li><li class="toc-item toc-item-h2"><a href="/wiki/challenges.exercism.bash#findings-after-solution" class="toc-link toc-link-h2">Findings after solution</a></li></ol></li></ol></nav><p>These are my submitted solutions for the Bash track in Exercism.
The document structure here is quite simple.
Each problem is its own header with the question and solution properly separated with its own subsection.
</p><h1 id="hello-world">Hello world</h1><p>The classical introductory exercise. Just say &quot;Hello, World!&quot;.
</p><p>&quot;Hello, World!&quot; is the traditional first program for beginning programming in a new language or environment.
</p><p>The objectives are simple:
</p><ul><li><p>Write a function that returns the string &quot;Hello, World!&quot;.
</p></li><li><p>Run the test suite and make sure that it succeeds.
</p></li><li><p>Submit your solution and check it at the website.
</p></li></ul><h2 id="solution">Solution</h2><p>I interpreted the comments and created a function out of it without realizing the &quot;raw&quot; script is completely fine.
Whoops!
</p><pre class="src-block"><code class="language-bash">main() {
  echo &quot;Hello, World!&quot;
}

main
</code></pre><pre class="fixed-width">Hello, World!</pre><p></p><h1 id="leap">Leap</h1><p>Given a year, report if it is a leap year.
</p><p>The tricky thing here is that a leap year in the Gregorian calendar occurs:
</p><div class="exampe">on every year that is evenly divisible by 4
  except every year that is evenly divisible by 100
    unless the year is also evenly divisible by 400
</div><p>For example, 1997 is not a leap year, but 1996 is.
1900 is not a leap year, but 2000 is.
</p><h2 id="solution-1">Solution</h2><p>I made it as a &quot;raw&quot; script this time realizing the thing.
</p><pre class="src-block"><code class="language-bash">set -eo pipefail

function help() {
  echo &quot;Usage: leap.sh &lt;year&gt;&quot;
}
trap &#x27;help&#x27; ERR

if test $# -lt 1 || test $# -gt 1
then
  help &amp;&amp; exit 1
fi

year=$1

# This is a check whether the input is a year.
# The year is expected to be an integer and printf throws an error if the specifier does not match the input.
# Pretty odd way but it is clever, don&#x27;t you think?
printf &quot;%d&quot; $year 1&gt;/dev/null 2&gt;/dev/null

if test $(expr $year % 4) -eq 0
then
  if test $(expr $year % 100) -eq 0 &amp;&amp; test $(expr $year % 400) -ne 0
    then
      echo &quot;false&quot;
      exit 0
  fi
  echo &quot;true&quot;
else echo &quot;false&quot;
fi
</code></pre><h1 id="reverse-string">Reverse string</h1><p>Reverse a string
</p><p>For example: input: &quot;cool&quot; output: &quot;looc&quot;
</p><h2 id="solution-2">Solution</h2><p>Well, it&#x27;s certain very trivial.
</p><pre class="src-block"><code class="language-bash">echo &quot;$@&quot; | rev
</code></pre><h1 id="two-fer">Two-fer</h1><p>Two-fer or 2-fer is short for two for one.
One for you and one for me.
</p><p>Given a name, return a string with the message:
</p><div class="exampe">One for name, one for me.
Where &quot;name&quot; is the given name.
</div><p>However, if the name is missing, return the string:
</p><div class="exampe">One for you, one for me.
</div><p>Here are some examples:
</p><table><thead><tr><th>Name</th><th>String to return</th></tr></thead><tbody><tr><td>Alice</td><td>One for Alice, one for me.</td></tr><tr><td>Bob</td><td>One for Bob, one for me.</td></tr><tr><td></td><td>One for you, one for me.</td></tr><tr><td>Zaphod</td><td>One for Zaphod, one for me.</td></tr></tbody></table><h2 id="solution-3">Solution</h2><p>This could be solved with the <a href="https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion">parameter expansion</a> syntax.
</p><pre class="src-block"><code class="language-bash">echo &quot;One for ${1:-&quot;you&quot;}, one for me.&quot;
</code></pre><h1 id="error-handling">Error handling</h1><p>Implement various kinds of error handling and resource management.
</p><p>An important point of programming is how to handle errors and close resources even if errors occur.
</p><p>This exercise requires you to handle various errors.
Because error handling is rather programming language specific you&#x27;ll have to refer to the tests for your track to see what&#x27;s exactly required.
</p><h2 id="solution-4">Solution</h2><p>The test script is basically requiring to write a Bash script that requires one argument and printing <code class="inline-verbatim">Hello, $ARG</code>.
</p><pre class="src-block"><code class="language-bash">function help() {
    echo &quot;Usage: error_handling.sh &lt;person&gt;&quot;
}

if test ! $# -eq 1; then
    help &amp;&amp; exit 1
fi

echo &quot;Hello, $1&quot;
</code></pre><h1 id="resistor-color-duo">Resistor color duo</h1><p>If you want to build something using a Raspberry Pi, you&#x27;ll probably use resistors. For this exercise, you need to know two things about them:
</p><p>Each resistor has a resistance value.
Resistors are small - so small in fact that if you printed the resistance value on them, it would be hard to read.
To get around this problem, manufacturers print color-coded bands onto the resistors to denote their resistance values.
Each band has a position and a numeric value.
For example, if they printed a brown band (value 1) followed by a green band (value 5), it would translate to the number 15.
In this exercise you are going to create a helpful program so that you don&#x27;t have to remember the values of the bands.
The program will take color names as input and output a two digit number, even if the input is more than two colors!
</p><p>The band colors are encoded as follows:
</p><ul><li><p>Black: 0
</p></li><li><p>Brown: 1
</p></li><li><p>Red: 2
</p></li><li><p>Orange: 3
</p></li><li><p>Yellow: 4
</p></li><li><p>Green: 5
</p></li><li><p>Blue: 6
</p></li><li><p>Violet: 7
</p></li><li><p>Grey: 8
</p></li><li><p>White: 9
</p></li></ul><p>From the example above: brown-green should return 15 brown-green-violet should return 15 too, ignoring the third color.
</p><h2 id="solution-5">Solution</h2><p>Remember, it only prints the first two values.
</p><pre class="src-block"><code class="language-bash">declare -A colors
colors[&#x27;black&#x27;]=0
colors[&#x27;brown&#x27;]=1
colors[&#x27;red&#x27;]=2
colors[&#x27;orange&#x27;]=3
colors[&#x27;yellow&#x27;]=4
colors[&#x27;green&#x27;]=5
colors[&#x27;blue&#x27;]=6
colors[&#x27;violet&#x27;]=7
colors[&#x27;grey&#x27;]=8
colors[&#x27;white&#x27;]=9

function errorf {
    printf &quot;$@\n&quot; &amp;&amp; exit 1
}

output=&quot;&quot;
for color in ${@:1}; do
  test ${colors[$color]} || errorf &quot;invalid color&quot;
  output=&quot;$output$(printf ${colors[$color]})&quot;
done

echo ${output:0:2}
</code></pre><h1 id="resistor-color-trio">Resistor color trio</h1><p>If you want to build something using a Raspberry Pi, you&#x27;ll probably use resistors. For this exercise, you need to know only three things about them:
</p><p>Each resistor has a resistance value.
Resistors are small - so small in fact that if you printed the resistance value on them, it would be hard to read. To get around this problem, manufacturers print color-coded bands onto the resistors to denote their resistance values.
Each band acts as a digit of a number. For example, if they printed a brown band (value 1) followed by a green band (value 5), it would translate to the number 15. In this exercise, you are going to create a helpful program so that you don&#x27;t have to remember the values of the bands. The program will take 3 colors as input, and outputs the correct value, in ohms. The color bands are encoded as follows:
</p><ul><li><p>Black: 0
</p></li><li><p>Brown: 1
</p></li><li><p>Red: 2
</p></li><li><p>Orange: 3
</p></li><li><p>Yellow: 4
</p></li><li><p>Green: 5
</p></li><li><p>Blue: 6
</p></li><li><p>Violet: 7
</p></li><li><p>Grey: 8
</p></li><li><p>White: 9
</p></li></ul><p>In resistor-color duo you decoded the first two colors. For instance: orange-orange got the main value 33. The third color stands for how many zeros need to be added to the main value. The main value plus the zeros gives us a value in ohms. For the exercise it doesn&#x27;t matter what ohms really are. For example:
</p><ul><li><p>orange-orange-black would be 33 and no zeros, which becomes 33 ohms.
</p></li><li><p>orange-orange-red would be 33 and 2 zeros, which becomes 3300 ohms.
</p></li><li><p>orange-orange-orange would be 33 and 3 zeros, which becomes 33000 ohms.
</p></li></ul><p>(If Math is your thing, you may want to think of the zeros as exponents of 10. If Math is not your thing, go with the zeros. It really is the same thing, just in plain English instead of Math lingo.)
</p><p>This exercise is about translating the colors into a label:
</p><div class="exampe">&quot;... ohms&quot;
</div><p>So an input of &quot;orange&quot;, &quot;orange&quot;, &quot;black&quot; should return:
</p><div class="exampe">&quot;33 ohms&quot;
</div><p>When we get more than a thousand ohms, we say &quot;kiloohms&quot;. That&#x27;s similar to saying &quot;kilometer&quot; for 1000 meters, and &quot;kilograms&quot; for 1000 grams. So an input of &quot;orange&quot;, &quot;orange&quot;, &quot;orange&quot; should return:
</p><div class="exampe">&quot;33 kiloohms&quot;
</div><h2 id="solution-6">Solution</h2><p>Initially not happy with the solution as I feel it&#x27;s too hacky.
Indeed, that feeling is verified when I saw <a href="https://exercism.io/tracks/bash/exercises/resistor-color-trio/solutions/56beec9e73814d84914335d9ff58d121">this solution</a>.
It&#x27;s pretty nice and learnt a few tricks from that code, too — that other assignment operators exist (e.g., <code class="inline-verbatim">/=</code>, <code class="inline-verbatim">*=</code>), test if a variable is set with <code class="inline-code">test -v</code>, and a simple separation of functions.
</p><pre class="src-block"><code class="language-bash">declare -A colors
colors[&#x27;black&#x27;]=0
colors[&#x27;brown&#x27;]=1
colors[&#x27;red&#x27;]=2
colors[&#x27;orange&#x27;]=3
colors[&#x27;yellow&#x27;]=4
colors[&#x27;green&#x27;]=5
colors[&#x27;blue&#x27;]=6
colors[&#x27;violet&#x27;]=7
colors[&#x27;grey&#x27;]=8
colors[&#x27;white&#x27;]=9

function errorf {
    printf &quot;$@\n&quot; &amp;&amp; exit 1
}

output=&quot;&quot;
for color in &quot;$1&quot; &quot;$2&quot;; do
  test ${colors[$color]} || errorf &quot;invalid color&quot;
  output=&quot;$output$(printf ${colors[$color]})&quot;
done
# If there&#x27;s a zero in front, it will be recognized as an octal so better be careful with that.
output=$(echo $output | sed --regexp-extended &quot;s|^0||&quot;)

test ${colors[$3]} || errorf &quot;invalid color&quot;
multiplier=$((10 ** ${colors[$3]}))
resistance=$(($output * $multiplier))

# The arbitrary limits are based from the test suite.
if test &quot;$resistance&quot; -ge $((10 ** 10)); then
    echo $(($resistance / (10 ** 9))) gigaohms
elif test &quot;$resistance&quot; -ge $((10 ** 6)); then
    echo $(($resistance / (10 ** 6))) megaohms
elif test &quot;$resistance&quot; -ge 2000; then
    echo $(($resistance / (10 ** 3))) kiloohms
else
    echo &quot;$resistance&quot; ohms
fi
</code></pre><h1 id="raindrops">Raindrops</h1><p>Your task is to convert a number into a string that contains raindrop sounds corresponding to certain potential factors. A factor is a number that evenly divides into another number, leaving no remainder. The simplest way to test if a one number is a factor of another is to use the modulo operation.
</p><p>The rules of raindrops are that if a given number:
</p><ul><li><p>has 3 as a factor, add &#x27;Pling&#x27; to the result.
</p></li><li><p>has 5 as a factor, add &#x27;Plang&#x27; to the result.
</p></li><li><p>has 7 as a factor, add &#x27;Plong&#x27; to the result.
</p></li><li><p>does not have any of 3, 5, or 7 as a factor, the result should be the digits of the number.
</p></li></ul><p>Examples:
</p><ul><li><p>28 has 7 as a factor, but not 3 or 5, so the result would be &quot;Plong&quot;.
</p></li><li><p>30 has both 3 and 5 as factors, but not 7, so the result would be &quot;PlingPlang&quot;.
</p></li><li><p>34 is not factored by 3, 5, or 7, so the result would be &quot;34&quot;.
</p></li></ul><h2 id="initial-working-solution">Initial working solution</h2><p>After finding out that Bash arithmetic expression exists, we&#x27;ll have to use the modulo operator.
</p><pre class="src-block"><code class="language-bash">n=$1
valid=0
function is_factor {
    local factor=$1
    shift

    local msg=$@

    [[ $(( $n % $factor )) -eq 0 ]] &amp;&amp; printf $msg &amp;&amp; valid=1
}

is_factor 3 &quot;Pling&quot;
is_factor 5 &quot;Plang&quot;
is_factor 7 &quot;Plong&quot;

[[ $valid -eq 0 ]] &amp;&amp; echo $n || printf &#x27;\n&#x27;
</code></pre><h2 id="findings-after-solution">Findings after solution</h2><p>The <a href="https://exercism.io/my/solutions/04bcb4f6de304cd891afd87f1fcf9830">solution</a> was approved by the mentor.
They did point out a few details such as <code class="inline-code">[\[...]]</code> being string-oriented.
You can also use
</p><pre class="src-block"><code class="language-bash"># Instead of this which compares numbers...
n=10
factor=10

[[ $(( $n % $factor )) -eq 0 ]] &amp;&amp; echo &quot;Hello&quot;

# Do it like this...
(( $n % $factor == 0 )) &amp;&amp; echo &quot;Hello&quot;
</code></pre><pre class="fixed-width">Hello
Hello</pre><p>
Secondly, assigning a vector variable (i.e., <code class="inline-code">$@</code>) to a scalar variable can be problematic.
It is advisable to put the vector variable to another vector variable instead.
</p><pre class="src-block"><code class="language-bash">msg=$@ # Wrong
msg=(&quot;$@&quot;) # Right
</code></pre><p>Apparently, Bash really is a picky interpreter.
I really like <a href="https://exercism.io/tracks/bash/exercises/raindrops/solutions/b882430d0b4841a4acaf7c8d5ba24a24">this simple solution</a>.
If improved with the tips given by the mentor, this is my improved solution.
</p><pre class="src-block"><code class="language-bash">if (( $1 % 3 == 0 )); then
    result+=&quot;Pling&quot;
fi
if (( $1 % 5 == 0 )); then
    result+=&quot;Plang&quot;
fi
if (( $1 % 7 == 0 )); then
    result+=&quot;Plong&quot;
fi

echo ${result:-$1}
</code></pre><p>But without entirely rewriting my solution, here&#x27;s the improved solution of it.
</p><pre class="src-block"><code class="language-bash">n=$1
valid=0
function is_factor {
    local factor=$1 msg=$2

    (( n % factor == 0 )) &amp;&amp; printf $msg &amp;&amp; valid=1
}

is_factor 3 &quot;Pling&quot;
is_factor 5 &quot;Plang&quot;
is_factor 7 &quot;Plong&quot;

(( valid == 0 )) &amp;&amp; echo $n || printf &#x27;\n&#x27;
</code></pre><p>Also, the <a href="https://github.com/koalaman/shellcheck/wiki/SC2124">ShellCheck wiki</a> is a pretty handy resource.
</p></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"metadata":{"date":"\"2021-05-11 15:06:43 +08:00\"","date_modified":"\"2021-06-22 17:50:43 +08:00\"","language":"en","source":""},"title":"Exercism track: Bash","hast":{"type":"root","children":[{"type":"element","tagName":"nav","properties":{"className":"toc"},"children":[{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-1"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"hello-world"},"children":[{"type":"text","value":"Hello world"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#hello-world"},"children":[{"type":"text","value":"Hello world"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"solution"},"children":[{"type":"text","value":"Solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#solution"},"children":[{"type":"text","value":"Solution"}]}]}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"leap"},"children":[{"type":"text","value":"Leap"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#leap"},"children":[{"type":"text","value":"Leap"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"solution-1"},"children":[{"type":"text","value":"Solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#solution-1"},"children":[{"type":"text","value":"Solution"}]}]}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"reverse-string"},"children":[{"type":"text","value":"Reverse string"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#reverse-string"},"children":[{"type":"text","value":"Reverse string"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"solution-2"},"children":[{"type":"text","value":"Solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#solution-2"},"children":[{"type":"text","value":"Solution"}]}]}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"two-fer"},"children":[{"type":"text","value":"Two-fer"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#two-fer"},"children":[{"type":"text","value":"Two-fer"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"solution-3"},"children":[{"type":"text","value":"Solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#solution-3"},"children":[{"type":"text","value":"Solution"}]}]}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"error-handling"},"children":[{"type":"text","value":"Error handling"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#error-handling"},"children":[{"type":"text","value":"Error handling"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"solution-4"},"children":[{"type":"text","value":"Solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#solution-4"},"children":[{"type":"text","value":"Solution"}]}]}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"resistor-color-duo"},"children":[{"type":"text","value":"Resistor color duo"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#resistor-color-duo"},"children":[{"type":"text","value":"Resistor color duo"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"solution-5"},"children":[{"type":"text","value":"Solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#solution-5"},"children":[{"type":"text","value":"Solution"}]}]}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"resistor-color-trio"},"children":[{"type":"text","value":"Resistor color trio"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#resistor-color-trio"},"children":[{"type":"text","value":"Resistor color trio"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"solution-6"},"children":[{"type":"text","value":"Solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#solution-6"},"children":[{"type":"text","value":"Solution"}]}]}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h1","properties":{"id":"raindrops"},"children":[{"type":"text","value":"Raindrops"}]}]},"properties":{"className":"toc-item toc-item-h1"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h1","href":"/challenges.exercism.bash#raindrops"},"children":[{"type":"text","value":"Raindrops"}]},{"type":"element","tagName":"ol","properties":{"className":"toc-level toc-level-2"},"children":[{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"initial-working-solution"},"children":[{"type":"text","value":"Initial working solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#initial-working-solution"},"children":[{"type":"text","value":"Initial working solution"}]}]},{"type":"element","tagName":"li","data":{"hookArgs":[{"type":"element","tagName":"h2","properties":{"id":"findings-after-solution"},"children":[{"type":"text","value":"Findings after solution"}]}]},"properties":{"className":"toc-item toc-item-h2"},"children":[{"type":"element","tagName":"a","properties":{"className":"toc-link toc-link-h2","href":"/challenges.exercism.bash#findings-after-solution"},"children":[{"type":"text","value":"Findings after solution"}]}]}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These are my submitted solutions for the Bash track in Exercism.\nThe document structure here is quite simple.\nEach problem is its own header with the question and solution properly separated with its own subsection.\n"}]},{"type":"element","tagName":"h1","properties":{"id":"hello-world"},"children":[{"type":"text","value":"Hello world"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The classical introductory exercise. Just say \"Hello, World!\".\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\"Hello, World!\" is the traditional first program for beginning programming in a new language or environment.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The objectives are simple:\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Write a function that returns the string \"Hello, World!\".\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Run the test suite and make sure that it succeeds.\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Submit your solution and check it at the website.\n"}]}]}]},{"type":"element","tagName":"h2","properties":{"id":"solution"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I interpreted the comments and created a function out of it without realizing the \"raw\" script is completely fine.\nWhoops!\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"main() {\n  echo \"Hello, World!\"\n}\n\nmain\n"}]}]},{"type":"element","tagName":"pre","properties":{"className":["fixed-width"]},"children":[{"type":"text","value":"Hello, World!"}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"h1","properties":{"id":"leap"},"children":[{"type":"text","value":"Leap"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given a year, report if it is a leap year.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The tricky thing here is that a leap year in the Gregorian calendar occurs:\n"}]},{"type":"element","tagName":"div","properties":{"className":["exampe"]},"children":[{"type":"text","value":"on every year that is evenly divisible by 4\n  except every year that is evenly divisible by 100\n    unless the year is also evenly divisible by 400\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example, 1997 is not a leap year, but 1996 is.\n1900 is not a leap year, but 2000 is.\n"}]},{"type":"element","tagName":"h2","properties":{"id":"solution-1"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I made it as a \"raw\" script this time realizing the thing.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"set -eo pipefail\n\nfunction help() {\n  echo \"Usage: leap.sh \u003cyear\u003e\"\n}\ntrap 'help' ERR\n\nif test $# -lt 1 || test $# -gt 1\nthen\n  help \u0026\u0026 exit 1\nfi\n\nyear=$1\n\n# This is a check whether the input is a year.\n# The year is expected to be an integer and printf throws an error if the specifier does not match the input.\n# Pretty odd way but it is clever, don't you think?\nprintf \"%d\" $year 1\u003e/dev/null 2\u003e/dev/null\n\nif test $(expr $year % 4) -eq 0\nthen\n  if test $(expr $year % 100) -eq 0 \u0026\u0026 test $(expr $year % 400) -ne 0\n    then\n      echo \"false\"\n      exit 0\n  fi\n  echo \"true\"\nelse echo \"false\"\nfi\n"}]}]},{"type":"element","tagName":"h1","properties":{"id":"reverse-string"},"children":[{"type":"text","value":"Reverse string"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Reverse a string\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For example: input: \"cool\" output: \"looc\"\n"}]},{"type":"element","tagName":"h2","properties":{"id":"solution-2"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Well, it's certain very trivial.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"echo \"$@\" | rev\n"}]}]},{"type":"element","tagName":"h1","properties":{"id":"two-fer"},"children":[{"type":"text","value":"Two-fer"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Two-fer or 2-fer is short for two for one.\nOne for you and one for me.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Given a name, return a string with the message:\n"}]},{"type":"element","tagName":"div","properties":{"className":["exampe"]},"children":[{"type":"text","value":"One for name, one for me.\nWhere \"name\" is the given name.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"However, if the name is missing, return the string:\n"}]},{"type":"element","tagName":"div","properties":{"className":["exampe"]},"children":[{"type":"text","value":"One for you, one for me.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here are some examples:\n"}]},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"Name"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"String to return"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Alice"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"One for Alice, one for me."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Bob"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"One for Bob, one for me."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"One for you, one for me."}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"Zaphod"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"One for Zaphod, one for me."}]}]}]}]},{"type":"element","tagName":"h2","properties":{"id":"solution-3"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This could be solved with the "},{"type":"element","tagName":"a","properties":{"href":"https://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion"},"children":[{"type":"text","value":"parameter expansion"}]},{"type":"text","value":" syntax.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"echo \"One for ${1:-\"you\"}, one for me.\"\n"}]}]},{"type":"element","tagName":"h1","properties":{"id":"error-handling"},"children":[{"type":"text","value":"Error handling"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Implement various kinds of error handling and resource management.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An important point of programming is how to handle errors and close resources even if errors occur.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This exercise requires you to handle various errors.\nBecause error handling is rather programming language specific you'll have to refer to the tests for your track to see what's exactly required.\n"}]},{"type":"element","tagName":"h2","properties":{"id":"solution-4"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The test script is basically requiring to write a Bash script that requires one argument and printing "},{"type":"element","tagName":"code","properties":{"className":["inline-verbatim"]},"children":[{"type":"text","value":"Hello, $ARG"}]},{"type":"text","value":".\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"function help() {\n    echo \"Usage: error_handling.sh \u003cperson\u003e\"\n}\n\nif test ! $# -eq 1; then\n    help \u0026\u0026 exit 1\nfi\n\necho \"Hello, $1\"\n"}]}]},{"type":"element","tagName":"h1","properties":{"id":"resistor-color-duo"},"children":[{"type":"text","value":"Resistor color duo"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you want to build something using a Raspberry Pi, you'll probably use resistors. For this exercise, you need to know two things about them:\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each resistor has a resistance value.\nResistors are small - so small in fact that if you printed the resistance value on them, it would be hard to read.\nTo get around this problem, manufacturers print color-coded bands onto the resistors to denote their resistance values.\nEach band has a position and a numeric value.\nFor example, if they printed a brown band (value 1) followed by a green band (value 5), it would translate to the number 15.\nIn this exercise you are going to create a helpful program so that you don't have to remember the values of the bands.\nThe program will take color names as input and output a two digit number, even if the input is more than two colors!\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The band colors are encoded as follows:\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Black: 0\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Brown: 1\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Red: 2\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Orange: 3\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Yellow: 4\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Green: 5\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Blue: 6\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Violet: 7\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Grey: 8\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"White: 9\n"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"From the example above: brown-green should return 15 brown-green-violet should return 15 too, ignoring the third color.\n"}]},{"type":"element","tagName":"h2","properties":{"id":"solution-5"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Remember, it only prints the first two values.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"declare -A colors\ncolors['black']=0\ncolors['brown']=1\ncolors['red']=2\ncolors['orange']=3\ncolors['yellow']=4\ncolors['green']=5\ncolors['blue']=6\ncolors['violet']=7\ncolors['grey']=8\ncolors['white']=9\n\nfunction errorf {\n    printf \"$@\\n\" \u0026\u0026 exit 1\n}\n\noutput=\"\"\nfor color in ${@:1}; do\n  test ${colors[$color]} || errorf \"invalid color\"\n  output=\"$output$(printf ${colors[$color]})\"\ndone\n\necho ${output:0:2}\n"}]}]},{"type":"element","tagName":"h1","properties":{"id":"resistor-color-trio"},"children":[{"type":"text","value":"Resistor color trio"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you want to build something using a Raspberry Pi, you'll probably use resistors. For this exercise, you need to know only three things about them:\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Each resistor has a resistance value.\nResistors are small - so small in fact that if you printed the resistance value on them, it would be hard to read. To get around this problem, manufacturers print color-coded bands onto the resistors to denote their resistance values.\nEach band acts as a digit of a number. For example, if they printed a brown band (value 1) followed by a green band (value 5), it would translate to the number 15. In this exercise, you are going to create a helpful program so that you don't have to remember the values of the bands. The program will take 3 colors as input, and outputs the correct value, in ohms. The color bands are encoded as follows:\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Black: 0\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Brown: 1\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Red: 2\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Orange: 3\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Yellow: 4\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Green: 5\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Blue: 6\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Violet: 7\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Grey: 8\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"White: 9\n"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In resistor-color duo you decoded the first two colors. For instance: orange-orange got the main value 33. The third color stands for how many zeros need to be added to the main value. The main value plus the zeros gives us a value in ohms. For the exercise it doesn't matter what ohms really are. For example:\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"orange-orange-black would be 33 and no zeros, which becomes 33 ohms.\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"orange-orange-red would be 33 and 2 zeros, which becomes 3300 ohms.\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"orange-orange-orange would be 33 and 3 zeros, which becomes 33000 ohms.\n"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(If Math is your thing, you may want to think of the zeros as exponents of 10. If Math is not your thing, go with the zeros. It really is the same thing, just in plain English instead of Math lingo.)\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This exercise is about translating the colors into a label:\n"}]},{"type":"element","tagName":"div","properties":{"className":["exampe"]},"children":[{"type":"text","value":"\"... ohms\"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"So an input of \"orange\", \"orange\", \"black\" should return:\n"}]},{"type":"element","tagName":"div","properties":{"className":["exampe"]},"children":[{"type":"text","value":"\"33 ohms\"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When we get more than a thousand ohms, we say \"kiloohms\". That's similar to saying \"kilometer\" for 1000 meters, and \"kilograms\" for 1000 grams. So an input of \"orange\", \"orange\", \"orange\" should return:\n"}]},{"type":"element","tagName":"div","properties":{"className":["exampe"]},"children":[{"type":"text","value":"\"33 kiloohms\"\n"}]},{"type":"element","tagName":"h2","properties":{"id":"solution-6"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Initially not happy with the solution as I feel it's too hacky.\nIndeed, that feeling is verified when I saw "},{"type":"element","tagName":"a","properties":{"href":"https://exercism.io/tracks/bash/exercises/resistor-color-trio/solutions/56beec9e73814d84914335d9ff58d121"},"children":[{"type":"text","value":"this solution"}]},{"type":"text","value":".\nIt's pretty nice and learnt a few tricks from that code, too — that other assignment operators exist (e.g., "},{"type":"element","tagName":"code","properties":{"className":["inline-verbatim"]},"children":[{"type":"text","value":"/="}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["inline-verbatim"]},"children":[{"type":"text","value":"*="}]},{"type":"text","value":"), test if a variable is set with "},{"type":"element","tagName":"code","properties":{"className":["inline-code"]},"children":[{"type":"text","value":"test -v"}]},{"type":"text","value":", and a simple separation of functions.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"declare -A colors\ncolors['black']=0\ncolors['brown']=1\ncolors['red']=2\ncolors['orange']=3\ncolors['yellow']=4\ncolors['green']=5\ncolors['blue']=6\ncolors['violet']=7\ncolors['grey']=8\ncolors['white']=9\n\nfunction errorf {\n    printf \"$@\\n\" \u0026\u0026 exit 1\n}\n\noutput=\"\"\nfor color in \"$1\" \"$2\"; do\n  test ${colors[$color]} || errorf \"invalid color\"\n  output=\"$output$(printf ${colors[$color]})\"\ndone\n# If there's a zero in front, it will be recognized as an octal so better be careful with that.\noutput=$(echo $output | sed --regexp-extended \"s|^0||\")\n\ntest ${colors[$3]} || errorf \"invalid color\"\nmultiplier=$((10 ** ${colors[$3]}))\nresistance=$(($output * $multiplier))\n\n# The arbitrary limits are based from the test suite.\nif test \"$resistance\" -ge $((10 ** 10)); then\n    echo $(($resistance / (10 ** 9))) gigaohms\nelif test \"$resistance\" -ge $((10 ** 6)); then\n    echo $(($resistance / (10 ** 6))) megaohms\nelif test \"$resistance\" -ge 2000; then\n    echo $(($resistance / (10 ** 3))) kiloohms\nelse\n    echo \"$resistance\" ohms\nfi\n"}]}]},{"type":"element","tagName":"h1","properties":{"id":"raindrops"},"children":[{"type":"text","value":"Raindrops"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Your task is to convert a number into a string that contains raindrop sounds corresponding to certain potential factors. A factor is a number that evenly divides into another number, leaving no remainder. The simplest way to test if a one number is a factor of another is to use the modulo operation.\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The rules of raindrops are that if a given number:\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"has 3 as a factor, add 'Pling' to the result.\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"has 5 as a factor, add 'Plang' to the result.\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"has 7 as a factor, add 'Plong' to the result.\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"does not have any of 3, 5, or 7 as a factor, the result should be the digits of the number.\n"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Examples:\n"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"28 has 7 as a factor, but not 3 or 5, so the result would be \"Plong\".\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"30 has both 3 and 5 as factors, but not 7, so the result would be \"PlingPlang\".\n"}]}]},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"34 is not factored by 3, 5, or 7, so the result would be \"34\".\n"}]}]}]},{"type":"element","tagName":"h2","properties":{"id":"initial-working-solution"},"children":[{"type":"text","value":"Initial working solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After finding out that Bash arithmetic expression exists, we'll have to use the modulo operator.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"n=$1\nvalid=0\nfunction is_factor {\n    local factor=$1\n    shift\n\n    local msg=$@\n\n    [[ $(( $n % $factor )) -eq 0 ]] \u0026\u0026 printf $msg \u0026\u0026 valid=1\n}\n\nis_factor 3 \"Pling\"\nis_factor 5 \"Plang\"\nis_factor 7 \"Plong\"\n\n[[ $valid -eq 0 ]] \u0026\u0026 echo $n || printf '\\n'\n"}]}]},{"type":"element","tagName":"h2","properties":{"id":"findings-after-solution"},"children":[{"type":"text","value":"Findings after solution"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"a","properties":{"href":"https://exercism.io/my/solutions/04bcb4f6de304cd891afd87f1fcf9830"},"children":[{"type":"text","value":"solution"}]},{"type":"text","value":" was approved by the mentor.\nThey did point out a few details such as "},{"type":"element","tagName":"code","properties":{"className":["inline-code"]},"children":[{"type":"text","value":"[\\[...]]"}]},{"type":"text","value":" being string-oriented.\nYou can also use\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"# Instead of this which compares numbers...\nn=10\nfactor=10\n\n[[ $(( $n % $factor )) -eq 0 ]] \u0026\u0026 echo \"Hello\"\n\n# Do it like this...\n(( $n % $factor == 0 )) \u0026\u0026 echo \"Hello\"\n"}]}]},{"type":"element","tagName":"pre","properties":{"className":["fixed-width"]},"children":[{"type":"text","value":"Hello\nHello"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"\nSecondly, assigning a vector variable (i.e., "},{"type":"element","tagName":"code","properties":{"className":["inline-code"]},"children":[{"type":"text","value":"$@"}]},{"type":"text","value":") to a scalar variable can be problematic.\nIt is advisable to put the vector variable to another vector variable instead.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"msg=$@ # Wrong\nmsg=(\"$@\") # Right\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Apparently, Bash really is a picky interpreter.\nI really like "},{"type":"element","tagName":"a","properties":{"href":"https://exercism.io/tracks/bash/exercises/raindrops/solutions/b882430d0b4841a4acaf7c8d5ba24a24"},"children":[{"type":"text","value":"this simple solution"}]},{"type":"text","value":".\nIf improved with the tips given by the mentor, this is my improved solution.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"if (( $1 % 3 == 0 )); then\n    result+=\"Pling\"\nfi\nif (( $1 % 5 == 0 )); then\n    result+=\"Plang\"\nfi\nif (( $1 % 7 == 0 )); then\n    result+=\"Plong\"\nfi\n\necho ${result:-$1}\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"But without entirely rewriting my solution, here's the improved solution of it.\n"}]},{"type":"element","tagName":"pre","properties":{"className":["src-block"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"n=$1\nvalid=0\nfunction is_factor {\n    local factor=$1 msg=$2\n\n    (( n % factor == 0 )) \u0026\u0026 printf $msg \u0026\u0026 valid=1\n}\n\nis_factor 3 \"Pling\"\nis_factor 5 \"Plang\"\nis_factor 7 \"Plong\"\n\n(( valid == 0 )) \u0026\u0026 echo $n || printf '\\n'\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Also, the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/koalaman/shellcheck/wiki/SC2124"},"children":[{"type":"text","value":"ShellCheck wiki"}]},{"type":"text","value":" is a pretty handy resource.\n"}]}]},"backlinks":[]},"__N_SSG":true},"page":"/[[...slug]]","query":{"slug":["challenges.exercism.bash"]},"buildId":"Ie9t5zutrXP6Of75Cb5xF","assetPrefix":"/wiki","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/wiki/_next/static/chunks/polyfills-99d808df29361cf7ffb1.js"></script><script src="/wiki/_next/static/chunks/main-ae4733327bd95c4ac325.js" async=""></script><script src="/wiki/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/wiki/_next/static/chunks/framework.9d524150d48315f49e80.js" async=""></script><script src="/wiki/_next/static/chunks/commons.0e1c3f9aa780c2dfe9f0.js" async=""></script><script src="/wiki/_next/static/chunks/pages/_app-8e3d0c58a60ec788aa69.js" async=""></script><script src="/wiki/_next/static/chunks/940643274e605e7596ecea1f2ff8d83317a3fb76.4841a16762f602a59f00.js" async=""></script><script src="/wiki/_next/static/chunks/pages/%5B%5B...slug%5D%5D-1aa198f87ede1cd0e1dc.js" async=""></script><script src="/wiki/_next/static/Ie9t5zutrXP6Of75Cb5xF/_buildManifest.js" async=""></script><script src="/wiki/_next/static/Ie9t5zutrXP6Of75Cb5xF/_ssgManifest.js" async=""></script></body></html>